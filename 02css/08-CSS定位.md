![5.CSS3定位](https://tva1.sinaimg.cn/large/00831rSTly1gdgf19dp6uj30vy0l1dlo.jpg)

# 定位(position)

> **定位** position 子绝父相 too bottom left right z-index
>
> static 静态定位
>
> relative 相对定位
>
> absolute 绝对定位-脱标
>
> fixed 固定定位-脱标



## 1. CSS 布局的三种机制

1. **普通流**（**标准流**）

2. **浮动**
   * 让盒子从普通流中**浮**起来 — **让多个盒子(div)水平排列成一行**。==脱标==。

3. **定位**
   * 将盒子**定**在某个**位**置  漂浮在其他盒子的上面。

## 2. 为什么使用定位

**标准流**或**浮动**都无法快速实现以下样式：

**1. 小黄色块**在图片上移动，**吸引用户的眼球**。

**2. 当我们滚动窗口的时候，盒子是固定屏幕某个位置的**

定位：

标准流在最底层 (海底)  ---    浮动的盒子 在中间层  (海面)  ---   定位的盒子 在 最上层 （天空）

## 3. 定位详解

> `定位 = 定位模式 + 边偏移`

### 3.1 边偏移

定位的盒子，是通过边偏移来移动位置的。

在 CSS 中，通过 `top`、`bottom`、`left` 和 `right` 属性定义元素的**边偏移**：（方位名词）

| 边偏移属性 | 示例           | 描述                                                     |
| ---------- | :------------- | -------------------------------------------------------- |
| `top`      | `top: 80px`    | **顶端**偏移量，定义元素相对于其父元素**上边线的距离**。 |
| `bottom`   | `bottom: 80px` | **底部**偏移量，定义元素相对于其父元素**下边线的距离**。 |
| `left`     | `left: 80px`   | **左侧**偏移量，定义元素相对于其父元素**左边线的距离**。 |
| `right`    | `right: 80px`  | **右侧**偏移量，定义元素相对于其父元素**右边线的距离**   |



### 3.2  定位模式 (position)

```css
选择器 { position: 属性值; }
```
| 值         |     语义     |
| ---------- | :----------: |
| `static`   | **静态**定位 |
| `relative` | **相对**定位 |
| `absolute` | **绝对**定位 |
| `fixed`    | **固定**定位 |



#### 3.2.1 静态定位(static) - 了解

- **静态定位**是元素的默认定位方式，无定位的意思。它相当于 border 里面的none， 不要定位的时候用。
- 静态定位 按照标准流特性摆放位置，它没有边偏移。
- 静态定位在布局时我们几乎不用的 

#### 3.2.2 ==相对定位==(relative)

- **相对定位**是元素**相对**于它  原来在标准流中的位置 来说的。（自恋型）

相对定位的特点：（务必记住）
- 相对于 自己原来在标准流中位置来移动的
- 原来**在标准流的区域继续占有**，后面的盒子仍然以标准流的方式对待它。==不脱标==

#### 3.2.3 ==绝对定位==(absolute) 

**绝对定位**是元素以带有定位的父级元素来移动位置 （拼爹型）**定位口诀 —— 子绝父相**

1. **==完全脱标==** —— 完全不占位置；  

2. **父元素没有定位**，则以**浏览器**为准定位（Document 文档）。

3. **父元素要有定位**
  * 将元素依据最近的已经定位（绝对、固定或相对定位）的父元素（祖先）进行定位。

解释：

- 绝对是以带有定位的**父级元素来移动位置**，如果父级都没有定位，则以**浏览器文档为准移动位置**

##### 为什么是==子绝父相==？

> 相对定位的父级元素，子级别absolute定位就是以父级为基准。
>
> 绝对定位的父级元素，子级别参照不一定是父类。
>
> 父亲也是绝对定位的话，就不占用为止，不知道子类离哪近。



#### 3.2.4 ==固定定位==(fixed)

**固定定位**是**绝对定位**的一种特殊形式：

1. **完全==脱标==** —— 完全不占位置；
2. 只认**浏览器的可视窗口** —— `浏览器可视窗口 + 边偏移属性` 来设置元素的位置；
   * 跟父元素没有任何关系；单独使用的
   * 不随滚动条滚动。

**提示**：IE 6 等低版本浏览器不支持固定定位。



## 4. 定位(position)的扩展

### 4.1 绝对定位的盒子居中

> **注意**：**绝对定位/固定定位的盒子**不能通过设置 `margin: auto`（标准流） 设置**水平居中**。

**绝对定位**水平居中：

1. `left: 50%;`：让**盒子的左侧**移动到**父级元素的水平中心位置**；

2. translate：让盒子**向左**移动**自身宽度的一半**。

   

### 4.2 堆叠顺序（==z-index==）

加了定位的盒子，默认**后来者居上**， 后面的盒子会压住前面的盒子。

`z-index` 的特性如下：

1. **属性值**：**正整数**、**负整数**或 **0**，默认值是 0，数值越大，盒子越靠上；
2. 如果**属性值相同**，则按照书写顺序，**后来居上**；
3. **数字后面不能加单位**。

**注意**：`z-index` 只能应用于**相对定位**、**绝对定位**和**固定定位**的元素，其他**标准流**、**浮动**和**静态定位**无效。



### 4.3 定位改变display属性

* 可以用inline-block  转换为行内块
* 可以用浮动 float 默认转换为行内块（类似，并不完全一样，因为浮动是脱标的）
* 绝对定位和固定定位也和浮动类似， 默认转换的特性 转换为行内块。

 一个行内的盒子，如果加了**浮动**、**固定定位**和**绝对定位**，不用转换，就可以给这个盒子直接设置宽度和高度等。

**同时注意：**

==浮动==或者==定位==，不存在垂直外边距合并的问题。

## 5. 圆角

### 圆角

圆角矩形可以为4个角分别设置圆度， 但是是有顺序的

```
border-top-left-radius:20px;
border-top-right-radius:20px;
border-bottom-right-radius:20px;
border-bottom-left-radius:20px;
```

- 如果4个角，数值相同

~~~css
border-radius: 15px;
~~~

- 里面数值不同，简写：

```
border-radius: 左上角 右上角  右下角  左下角;
```



## 6. 定位总结

| 定位模式         | 是否脱标占有位置     | 移动位置基准           | 模式转换（行内块） | 使用情况                 |
| ---------------- | -------------------- | :--------------------- | ------------------ | ------------------------ |
| 静态static       | 不脱标，正常模式     | 正常模式               | 不能               | 几乎不用                 |
| 相对定位relative | 不脱标，占有位置     | 相对自身位置移动       | 不能               | 基本单独使用             |
| 绝对定位absolute | 完全脱标，不占有位置 | 相对于定位父级移动位置 | 能                 | 要和定位父级元素搭配使用 |
| 固定定位fixed    | 完全脱标，不占有位置 | 相对于浏览器移动位置   | 能                 | 单独使用，不需要父级     |

**注意**：

1. **边偏移**需要和**定位模式**联合使用，**单独使用无效**；
2. `top` 和 `bottom` 不要同时使用；`left` 和 `right` 不要同时使用。

## 7. 网页布局总结

一个完整的网页，有标准流 、 浮动 、 定位 一起完成布局的。每个都有自己的专门用法。

#### 1). 标准流 

可以让盒子上下排列 或者 左右排列的

#### 2). 浮动

可以让多个块级元素一行显示  或者 左右对齐盒子   浮动的盒子就是按照顺序左右排列 

#### 3). 定位

定位最大的特点是有层叠的概念，就是可以让多个盒子 前后 叠压来显示。 但是每个盒子需要测量数值。
